#!/bin/csh -f
#_______________________________________________________________________________
#
# (C) 2002 de Groot-Bril Earth Sciences B.V.
# $Id: od_do_rmt,v 1.5 2003-04-28 10:52:19 arend Exp $
#
# remote execution script
#_______________________________________________________________________________

set comm=""

next_arg:

if ( $1 == "+-+" ) then

	shift
	eval $comm
	set comm=""
	goto next_arg

else if ( $1 == "+-+-+" ) then

	shift
	eval $comm
	goto do_rest

else

	set comm="$comm $1"
	shift
	goto next_arg

endif

do_rest:

if ( $?dGB_DEBUG ) then
    echo "dGB_DATA = $dGB_DATA" > /tmp/dgbdebug.log
    echo "dGB_USER = $dGB_USER" >> /tmp/dgbdebug.log
    echo "dGB_APPL = $dGB_APPL" > /tmp/dgbdebug.log
    echo "LM_LICENSE_FILE = $LM_LICENSE_FILE" >> /tmp/dgbdebug.log
    echo "DISPLAY = $DISPLAY" >> /tmp/dgbdebug.log
    echo "$dGB_APPL/bin/dgb_exec $*" >> /tmp/dgbdebug.log
    $dGB_APPL/bin/dgb_exec $* >> /tmp/dgbdebug.log

else

    $dGB_APPL/bin/dgb_exec $*

endif

exit $status
