#!/bin/csh -f
#__Pmake________________________________________________________________________
#
# $Id: find_incdirs,v 1.2 2008-11-03 08:59:20 cvsbert Exp $
# find_incdirs nrsrchdirs srchdir1 ... srchdirn dir1 ... dirn
# This script tries to find include dirs.
# * $WORK/include/dir
# * $WORK/plugins/dir
# * $WORK/plugins/srchdir1/include/dir
# * $WORK/plugins/srchdir2/include/dir
# * etc.
# The resulting directories are echoed back
#_______________________________________________________________________________

set nrsrchdirs=$1
shift
set srchdirs=""

next_srchdir:

if ( $nrsrchdirs == 0 ) goto srchdirs_done
set srchdirs="$srchdirs $1"
@ nrsrchdirs--
shift
goto next_srchdir

srchdirs_done:

foreach incdir ( $* )

    set fulldir="$WORK/include/$incdir"
    if ( -d "$fulldir" ) goto dir_found

    set fulldir="$WORK/plugins/$incdir"
    if ( -d "$fulldir" ) goto dir_found

    foreach srchdir ( $srchdirs )
	set fulldir="$WORK/plugins/$srchdir/include/$incdir"
	if ( -d "$fulldir" ) goto dir_found
    end

    continue

    dir_found:
    echo -n " $fulldir"

end
